<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de Administración - Minijuegos</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://unpkg.com/feather-icons"></script>
</head>

<body>
    <div id="loginContainer" class="container">
        <div class="login-form">
            <h2>Iniciar Sesión</h2>
            <form id="loginForm">
                <div class="form-group">
                    <label for="correo">Correo:</label>
                    <input type="email" id="correo" value="admin@minijuegos.com" required>
                </div>
                <div class="form-group">
                    <label for="contrasena">Contraseña:</label>
                    <input type="password" id="contrasena" value="admin123" required>
                </div>
                <button type="submit" class="btn btn-primary">Iniciar Sesión</button>
            </form>
            <div id="loginError" class="error-message"></div>
        </div>
    </div>

    <div id="appContainer" class="app-layout" style="display: none;">
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <i data-feather="zap"></i>
                    <span>Admin Panel</span>
                </div>
            </div>

            <nav class="sidebar-nav">
                <div class="nav-section">
                    <div class="nav-section-title">GESTIÓN</div>
                    <button class="nav-item active" data-tab="paises">
                        <i data-feather="globe"></i>
                        <span>Países</span>
                    </button>
                    <button class="nav-item" data-tab="preguntas">
                        <i data-feather="help-circle"></i>
                        <span>Genfy Pregunta</span>
                    </button>
                    <button class="nav-item" data-tab="escenarios">
                        <i data-feather="image"></i>
                        <span>Genfy Encuentra</span>
                    </button>
                    <button class="nav-item" data-tab="sprites">
                        <i data-feather="package"></i>
                        <span>Mision Genfy</span>
                    </button>
                    <div class="nav-submenu">
                        <button class="nav-item submenu-toggle" data-submenu="rueda-genfy">
                            <i data-feather="rotate-cw"></i>
                            <span>La Rueda de Genfy</span>
                            <i data-feather="chevron-right" class="submenu-arrow"></i>
                        </button>
                        <div class="submenu-items" id="rueda-genfy-submenu">
                            <button class="nav-item submenu-item" data-tab="ruleta-temas">
                                <i data-feather="target"></i>
                                <span>Temas</span>
                            </button>
                            <button class="nav-item submenu-item" data-tab="ruleta-preguntas">
                                <i data-feather="help-circle"></i>
                                <span>Preguntas</span>
                            </button>
                        </div>
                    </div>
                    <button class="nav-item admin-only" data-tab="usuarios">
                        <i data-feather="users"></i>
                        <span>Usuarios</span>
                    </button>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">SISTEMA</div>
                    <button class="nav-item admin-only" data-tab="logs">
                        <i data-feather="activity"></i>
                        <span>Logs</span>
                    </button>
                    <button class="nav-item" id="logoutBtn">
                        <i data-feather="log-out"></i>
                        <span>Cerrar Sesión</span>
                    </button>
                </div>
            </nav>
        </aside>

        <main class="main-content">
            <header class="main-header">
                <button class="mobile-menu-toggle" id="mobileMenuToggle">
                    <i data-feather="menu"></i>
                </button>
                <div class="header-spacer"></div>
            </header>

            <div class="content-wrapper">
                <div id="paisesSection" class="section active">
                    <div class="section-header">
                        <h2>Gestión de Países</h2>
                        <button id="addPaisBtn" class="btn btn-primary admin-only">Agregar País</button>
                    </div>
                    <div class="table-container">
                        <table id="paisesTable">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Nombre</th>
                                    <th class="admin-only">Minijuegos Visibles</th>
                                    <th class="admin-only">Acciones</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </div>

                <div id="preguntasSection" class="section">
                    <div class="section-header">
                        <h2>Gestión de Preguntas</h2>
                        <button id="addPreguntaBtn" class="btn btn-primary admin-only">Agregar Pregunta</button>
                    </div>
                    <div class="filters">
                        <select id="paisFilterPreguntas">
                            <option value="">Todos los países</option>
                        </select>
                    </div>
                    <div class="table-container">
                        <table id="preguntasTable">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>País/Países</th>
                                    <th>Pregunta</th>
                                    <th>Respuesta Correcta</th>
                                    <th class="admin-only">Acciones</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </div>

                <div id="escenariosSection" class="section">
                    <div class="section-header">
                        <h2>Gestión de Escenarios</h2>
                        <button id="addEscenarioBtn" class="btn btn-primary admin-only">Agregar Escenario</button>
                    </div>
                    <div class="filters">
                        <select id="paisFilterEscenarios">
                            <option value="">Todos los países</option>
                        </select>
                    </div>
                    <div class="table-container">
                        <table id="escenariosTable">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>País/Países</th>
                                    <th>Imagen Fondo</th>
                                    <th>Enlace</th>
                                    <th>Objetos</th>
                                    <th class="admin-only">Acciones</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </div>

                <div id="spritesSection" class="section">
                    <div class="section-header">
                        <h2>Gestión de Sprites</h2>
                        <button id="addSpriteBtn" class="btn btn-primary admin-only">Agregar Sprite</button>
                        <button id="manageTerapiasBtn" class="btn btn-secondary admin-only">Gestionar Terapias</button>
                    </div>
                    <div class="filters">
                        <select id="paisFilterSprites">
                            <option value="">Todos los países</option>
                        </select>
                    </div>
                    <div class="table-container">
                        <table id="spritesTable">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>País/Países</th>
                                    <th>Tipo</th>
                                    <th>Imagen</th>
                                    <th>Enlace</th>
                                    <th class="admin-only">Acciones</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>

                    <div id="terapiasSubsection" style="display: none;">
                        <div class="section-header">
                            <h3>Asociaciones de Terapia</h3>
                            <button id="addTerapiaBtn" class="btn btn-primary">Agregar Asociación</button>
                            <button id="backToSpritesBtn" class="btn btn-secondary">Volver a Sprites</button>
                        </div>
                        <div class="table-container">
                            <table id="terapiasTable">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>Medicamento</th>
                                        <th>Bacteria</th>
                                        <th>Acciones</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <div id="ruleta-temasSection" class="section">
                    <div class="section-header">
                        <h2>Gestión de Temas de Ruleta</h2>
                        <button id="addRuletaTemaBtn" class="btn btn-primary admin-only">Agregar Tema</button>
                    </div>
                    <div class="table-container">
                        <table id="ruletaTemasTable">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Nombre</th>
                                    <th>Color</th>
                                    <th>Estado</th>
                                    <th class="admin-only">Acciones</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </div>

                <div id="ruleta-preguntasSection" class="section">
                    <div class="section-header">
                        <h2>Gestión de Preguntas de Ruleta</h2>
                        <button id="addRuletaPreguntaBtn" class="btn btn-primary admin-only">Agregar Pregunta</button>
                    </div>
                    <div class="filters">
                        <select id="paisFilterRuleta">
                            <option value="">Todos los países</option>
                        </select>
                        <select id="temaFilterRuleta">
                            <option value="">Todos los temas</option>
                        </select>
                    </div>
                    <div class="table-container">
                        <table id="ruletaPreguntasTable">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Tema</th>
                                    <th>País/Países</th>
                                    <th>Pregunta</th>
                                    <th>Respuesta Correcta</th>
                                    <th>Estado</th>
                                    <th class="admin-only">Acciones</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </div>

                <div id="usuariosSection" class="section admin-only">
                    <div class="section-header">
                        <h2>Gestión de Usuarios</h2>
                        <button id="addUsuarioBtn" class="btn btn-primary">Agregar Usuario</button>
                    </div>
                    <div class="table-container">
                        <table id="usuariosTable">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Nombre</th>
                                    <th>Correo</th>
                                    <th>Admin</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </div>

                <div id="logsSection" class="section admin-only">
                    <div class="section-header">
                        <h2>Logs de Cambios</h2>
                    </div>
                    <div class="table-container">
                        <table id="logsTable">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Fecha UTC</th>
                                    <th>Acción</th>
                                    <th>Detalle</th>
                                </tr>
                            </thead>
                            <tbody></tbody>
                        </table>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div id="modalBody"></div>
        </div>
    </div>

    <div id="colliderContainer"
        style="display: none; position: fixed; top: 50px; left: 50px; z-index: 1001; background: white; border: 2px solid #333; padding: 10px; max-width: 80%; max-height: 80%; overflow: auto;">
        <div style="margin-bottom: 10px;">
            <button id="saveCollider" class="btn btn-primary">Guardar Collider</button>
            <button id="cancelCollider" class="btn btn-secondary">Cancelar</button>
            <button id="clearCollider" class="btn btn-danger">Limpiar Puntos</button>
        </div>
        <div style="font-size: 12px; margin-bottom: 10px; color: #666;">
            Haz clic en la imagen para agregar puntos del polígono collider
        </div>
    </div>

    <script src="app.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            feather.replace();
        });
    </script>
</body>

</html>